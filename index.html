<html>
    <head>
        <title>
            location
        </title>
    </head>
    <body>
        
        <h1>KIDSZOONER </h1>
        <div id="output"></div>

        <div>
        <input id="number" type="numric" placeholder="Phone number" >
        <input id="name"type="text" placeholder="Relation">
        <button onclick="send_handle()">send</button>
        </div>

        <div id="output1"></div> 

        <!-- <div class="box">
            <form>
                <h2>LLD</h2>
                <div class="inputBox">
                    <input type="text" required="required">
                    <span>Number</span>
                    <i></i>
                </div>
                <div class="inputBox">
                    <input type="text" required="required">
                    <span>Relation</span>
                    <i></i>
                </div>
            </form> 
        </div> -->

    </body>
    <script>

        if(!navigator.geolocation){
            throw new Error("NO geolocation available");
        }

        function success(pos){

            const lat = pos.coords.latitude;
            const lng = pos.coords.longitude;
            let num=document.getElementById("number").value;

            // let msg= document.getElementById("msg").value;

            //  let name= document.getElementById("name").value;

            const markup = `
            <a class ="" href ="https://www.openstreetmap.org/#map=16/${lat}/${lng}">
            Your current position: Latitude:${lat} Longtitude:${lng}. 
            </a> 
            `;

            const markup1 = `
                <a class="btn" href ="https://wa.me/${num}?text=I%27m%20in%20Danger%20at%20this%20location%20lat:%20${lat}%20lng:%20${lng}">DANGER!!!</a>
            `


            document.getElementById('output').innerHTML=markup;
            document.getElementById('output1').innerHTML=markup1;

            // navigator.geolocation.clearWatch(id);

        }

        function error(err){
            if (err.code === 1){
                alert("Please allow access to geolocation");
            }
            else{
                alert("Position unavailable");
            }

        }

        function send_handle(){
// win.focus();
    }
        
        const options = {

            enableHighAccuracy: true,
            timeout:5000,
            maximumAge: 0,


        };
        const id = navigator.geolocation.getCurrentPosition(success, error, options);
    </script>
</html>
